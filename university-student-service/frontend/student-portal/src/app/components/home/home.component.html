<div class="home-wrapper">
  <h2 class="welcome-title">{{ constants.TITLE }}</h2>

  <div *ngIf="isLoading" class="loading-message">Loading ...</div>

  <div *ngIf="!isLoading" class="home-columns">
    <div class="panel schedule-panel">
      <div class="panel-top-banner"></div>
      <div class="panel-inner">
        <h3 class="panel-title">{{ constants.SCHEDULE_TITLE }}</h3>

        <div class="calendar-widget">
          <div class="calendar-header">
            {{ currentMonthName }} {{ currentYear }}
          </div>

          <div class="calendar-row day-labels">
            <div *ngFor="let day of weekDays" class="calendar-day">
              {{ day }}
            </div>
          </div>

          <div class="calendar-row date-row">
            <div
              *ngFor="let date of visibleDates"
              [ngClass]="{ 'calendar-date': true, today: isToday(date) }"
            >
              {{ date.getDate() }}
            </div>
          </div>
        </div>

        <div class="next-class-section">
          <h4 class="next-heading">
            {{ constants.NEXT_HEADING_LABEL }} â€“ {{ nextWeekday }}
            {{ nextDate }}
          </h4>
          <div class="next-class-details">
            <div class="next-title">
              {{ enrolments[0].courseDescription }}
            </div>
            <div class="next-time">{{ constants.COMING_UP_FIRST_SESSION }}</div>
          </div>
        </div>

        <div class="coming-up-section">
          <h3 class="coming-up-title">{{ constants.COMING_UP_TITLE }}</h3>
          <div class="coming-up-grid">
            <div
              class="class-card"
              *ngFor="
                let session of constants.COMING_UP_SESSIONS;
                let i = index
              "
            >
              <div class="calendar-icon">
                <i class="fas fa-calendar-alt"></i>
              </div>
              <div>
                <div class="class-date">{{ nextDate }}</div>
                <div class="class-title">
                  {{ enrolments[i].courseDescription }}
                </div>
                <div class="class-time">{{ session.time }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="panel news-panel">
      <div class="panel-top-banner"></div>
      <div class="panel-inner">
        <h3 class="panel-title">{{ constants.NEWS_PANEL_TITLE }}</h3>
        <div class="news-card-grid">
          <div class="news-card" *ngFor="let item of constants.NEWS_ITEMS">
            <img class="news-card-img" [src]="item.img" [alt]="item.alt" />
            <div class="news-card-content">
              <h4 class="news-card-title">{{ item.title }}</h4>
              <p class="news-card-text">{{ item.text }}</p>
              <div class="news-card-date">
                <i class="fas fa-calendar-alt"></i> {{ item.date }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
